#  C++如何工作

示例代码`HelloWorld`：

```c++
#include<iostream>

int main()
/*打印输出HelloWorld!*/
{
	std::cout << "Hello World!" << std::endl;
	std::cin.get();
	return 0;
}
```

分解代码：

```c++
#include <iostream>
```

- 预处理语句

  编译器在收到源文件之后，优先执行预处理语句，**预处理语句的执行是在实际编译发生之前**。

  `#`：标明在该符号之后的都是预处理语句。

  `include`：去寻找一个文件，寻找的文件就是后面`<>`括起来的文件，在这个示例代码中要找的文件就是`iostream`，然后将 该文件的内容拷贝到当前文件中，这种文件通常被称为**头文件**。

  > `iostream`头文件为**输入输出流**，使用`cout`输出以及使用`cin`输入都是该文件所提供的方法，有先预处理该头文件才能正常使用对应的输入输出方法。

```c++
int main()
```

- `int`

  表示该函数的返回值是一个整型值，每个函数都有自己的返回值，函数就相当于数学中的函数，有输入也有输出，**输入就是该函数的参数，输出就是函数的返回值**。

- `main函数`

  每一个C++程序都**必须有且只有一个main函数**，该函数是程序的入口，当开始运行程序时，计算机会从main函数开始，由上至下一行行顺序执行代码。

  `main`后面的括号就是需要传入的参数，但打印输出不需要出入任何参数，所以什么都不写，当没有设置任何参数，默认括号内为`void`。
  
  `main函数`可以不给返回值，也就是可以去掉`return 0;`这一行。虽然去掉了但是程序会默认返回了$0$。

```c++
{
    std::cout << "Hello World!" << std::endl;
    std::cin.get();
    return 0;
}
```

- `{}`：括起来的内容为**函数体**，代码中要求**所有的括号和大括号都严格对应**，代表着一块儿代码的整体。

- `std::`：**名称空间标示符**，C++标准库中的函数或者对象都是在命名空间`std`(standard)中定义的，所以要使用标准函数库中的函数或对象都要使用std来限定。

- `cout`：输出语句。

- `>>`和`<<`：**移位运算符**，但在头文件中已经对`>>`和`<<`进行了**重载**，使之分别作为**流提取运算符和流插入运算符**，用来输入和输出C++标准类型的数据。也可以简单理解为这两个运算符本质上就是一种函数。先不必深究。

  > ”流“的概念还没有搞透

- `endl`：输出换行符，在输出语句后使光标下移到新的一行继续操作。
- `;`：C++语句用分号表示结束，表示这一句代码的结束。
- `cin`：输入语句。
- `cin.get()`：用于**从输入流中读取下一个字符**的函数。它可以读取任何字符，包括空格和回车符，并将其存储在缓冲区中，直到程序需要使用它为止。如果没有这句代码来等待输入的话会直接打印输出后马上退出程序。

# 函数

示例代码：

```c++
#include<iostream>

void Log(const char* message)
/*使用该函数进行输出操作*/
{
	std::cout << message << std::endl;
}

int main(void)
/*打印输出HelloWorld*/
{
	Log("Hello World!");  // 调用自己的函数进行输出
	std::cin.get();
	return 0;
}
```

自定义函数先定义后使用，使用时直接使用函数名加参数。

上述代码都在一个`.cpp`文件中，但是为了方便代码项目管理，一般将不同功能的函数或者类放在不同的位置，因此，也可以按照如下的格式：

`HelloWorld.cpp`：

```c++
#include<iostream>

void Log(const char* message);

int main(void)
/*打印输出HelloWorld*/
{
	Log("Hello World!");
	std::cin.get();
	return 0;
}
```

`Log.cpp`：

```c++
#include<iostream>

void Log(const char* message)
{
	/*使用该函数进行输出操作*/
	std::cout << message << std::endl;
}
```

`HelloWorld.cpp`和`Log.cpp`在同一个文件夹中

主函数中声明一个用到的函数，是告诉编译器：哎，编译器大哥，放心，我有这个`Log`函数在，您别担心，信我就行。

**编译器**无条件相信，然后编译主函数，发现Log了，就会说：好的，小兄弟，我知道你有这个`Log`，干啥的我不知道，但是能过我的检查条件，通过吧。

通过之后，**链接器**就拿着人力表开始干活了，一条条执行，发现到`Log`了：诶，老编说公司有这个`Log`，这活儿该他干了，我去把它叫过来干活。然后就去找`Log`函数，找到后把对应的资料给它，干完后把结果再给主函数。

